{"ast":null,"code":"var _jsxFileName = \"/Users/wonderland/Documents/Code/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios'; // make a post request to retrieve a token from the api\n// when you have handled the token, navigate to the BubblePage route\n\nconst Login = props => {\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n  const [error, setError] = useState(false);\n\n  const handleChanges = e => {\n    setCredentials({ ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const loginSubmit = e => {\n    e.preventDefault();\n    axios.post('http://localhost:5000/api/login', credentials).then(res => {\n      console.log('login success! res:', res);\n      window.localStorage.setItem('token', res.data.payload);\n      props.history.push('/bubbles-page');\n      setError(false);\n    }).catch(err => {\n      console.error('login failure! err:', err.message);\n      localStorage.removeItem('authToken');\n      setError(true);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Sign in\"), React.createElement(\"form\", {\n    onSubmit: loginSubmit,\n    className: \"input-cont log\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    name: \"username\",\n    type: \"text\",\n    value: credentials.username,\n    onChange: handleChanges,\n    className: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    value: credentials.password,\n    onChange: handleChanges,\n    className: \"input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"SIGN IN\"), error ? React.createElement(\"p\", {\n    className: \"error-login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Wrong credentials, Try again.\") : null)), React.createElement(\"div\", {\n    className: \"bubble blue\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"bubble pink\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/wonderland/Documents/Code/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useState","axios","Login","props","credentials","setCredentials","username","password","error","setError","handleChanges","e","target","name","value","loginSubmit","preventDefault","post","then","res","console","log","window","localStorage","setItem","data","payload","history","push","catch","err","message","removeItem"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n\nconst Login = props => {\n    const [credentials, setCredentials] = useState(\n        {username:'', password: ''}\n    );\n    const [error, setError] = useState(false);\n   \n    const handleChanges = e => {\n        setCredentials({...credentials, [e.target.name]: e.target.value});\n    };\n\n    const loginSubmit = e => {\n        e.preventDefault();\n            axios\n            .post('http://localhost:5000/api/login', credentials)\n            .then(res => {\n                console.log('login success! res:', res);\n                window.localStorage.setItem('token', res.data.payload);\n                props.history.push('/bubbles-page');\n                setError(false);\n            })\n            .catch(err => {\n                console.error('login failure! err:', err.message);\n                localStorage.removeItem('authToken');\n                setError(true);\n            })\n    };\n\n    return (\n        <div>\n           \n             <div className='login-form'>\n                <h1 className='header'>\n                    Sign in\n                </h1>\n                <form onSubmit={loginSubmit} className='input-cont log'>\n                    <label htmlFor='username'>Username</label>\n                    <input\n                    name='username'\n                    type='text'\n                    value={credentials.username}\n                    onChange={handleChanges}\n                    className='input'\n                    />\n    \n                    <label htmlFor='password'>Password</label>\n                    <input\n                    name='password'\n                    type='password'\n                    value={credentials.password}\n                    onChange={handleChanges}\n                    className='input'\n                    />\n                      <button className='btn'>SIGN IN</button>\n                      {error ? <p className='error-login'>Wrong credentials, Try again.</p> : null}\n                </form>\n            </div>\n            <div className='bubble blue'></div>\n            <div className='bubble pink'></div>\n            \n        </div>\n    );\n};\n\nexport default Login;\n\n"]},"metadata":{},"sourceType":"module"}